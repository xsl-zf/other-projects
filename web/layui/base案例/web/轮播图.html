<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>轮播图</title>
</head>
<link rel="stylesheet" href="../plugins/swiper/swiper.css">
<link rel="stylesheet" type="text/css" href="css/myswiper.css"/>


<body>
<div class="box">
    <div class="box-item">
        <div class="title">div1：官方默认属性</div>
        <div class="content" id="div1">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide"><img src="./img/m.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/n.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/o.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/q.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/p.jpg" alt=""></div>
                </div>
                <!-- 如果需要分页器 -->
                <div class="swiper-pagination"></div>

                <!-- 如果需要导航按钮 -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>

                <!-- 如果需要滚动条 -->
                <!-- <div class="swiper-scrollbar"></div> -->
            </div>
        </div>
    </div>
    <div class="box-item">
        <div class="title">div2：消息类型的轮播</div>
        <div class="content" id="div2">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件001</div>
                    </div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件002</div>
                    </div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件003</div>
                    </div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件004</div>
                    </div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件005</div>
                    </div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件006</div>
                    </div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件007</div>
                    </div>
                </div>
                <!-- 如果需要分页器 -->
                <div class="swiper-pagination"></div>

                <!-- 如果需要导航按钮 -->
                <!-- <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div> -->

                <!-- 如果需要滚动条 -->
                <!-- <div class="swiper-scrollbar"></div> -->
            </div>
        </div>
    </div>
    <div class="box-item">
        <div class="title">div3：弹性动画</div>
        <div class="content" id="div3">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide"><img src="./img/m.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/n.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/o.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/q.jpg" alt=""></div>
                </div>
                <!-- 如果需要分页器 -->
                <div class="swiper-pagination"></div>

                <!-- 如果需要导航按钮 -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>

                <!-- 如果需要滚动条 -->
                <!-- <div class="swiper-scrollbar"></div> -->
            </div>
        </div>
    </div>
    <div class="box-item">
        <div class="title">div4：自定义控件样式</div>
        <div class="content" id="div4">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide"><img src="./img/m.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/n.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/o.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/q.jpg" alt=""></div>
                </div>
                <!-- 如果需要分页器 -->
                <div class="swiper-pagination"></div>

                <!-- 如果需要导航按钮 -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>

                <!-- 如果需要滚动条 -->
                <!-- <div class="swiper-scrollbar"></div> -->
            </div>
        </div>
    </div>
    <div class="box-item">
        <div class="title">div5：事件</div>
        <div class="content" id="div5">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide"><img src="./img/m.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/n.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/o.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/q.jpg" alt=""></div>
                </div>
                <!-- 如果需要分页器 -->
                <div class="swiper-pagination"></div>

                <!-- 如果需要导航按钮 -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>

                <!-- 如果需要滚动条 -->
                <!-- <div class="swiper-scrollbar"></div> -->
            </div>
        </div>
    </div>
    <div class="box-item">
        <div class="title">div6：多行多列</div>
        <div class="content" id="div6">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide"><img src="./img/m.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/n.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/o.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/q.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/m.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/n.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/o.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/q.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/m.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/n.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/o.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/q.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/m.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/n.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/o.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/q.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/m.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/n.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/o.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/q.jpg" alt=""></div>

                </div>
                <!-- 如果需要分页器 -->
                <div class="swiper-pagination"></div>

                <!-- 如果需要导航按钮 -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>

                <!-- 如果需要滚动条 -->
                <!-- <div class="swiper-scrollbar"></div> -->
            </div>
        </div>
    </div>
    <div class="box-item">
        <div class="title">div7：嵌套</div>
        <div class="content" id="div7">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide"><img src="./img/m.jpg" alt=""></div>
                    <div class="swiper-slide">
                        <div class="swiper-container-2">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide"><img src="./img/m.jpg" alt=""></div>
                                <div class="swiper-slide"><img src="./img/n.jpg" alt=""></div>
                                <div class="swiper-slide"><img src="./img/o.jpg" alt=""></div>
                                <div class="swiper-slide"><img src="./img/q.jpg" alt=""></div>
                            </div>
                            <div class="swiper-pagination swiper-pagination-2"></div>
                        </div>
                    </div>
                    <div class="swiper-slide"><img src="./img/n.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="./img/o.jpg" alt=""></div>
                </div>
                <!-- 如果需要分页器 -->
                <div class="swiper-pagination swiper-pagination-1"></div>

                <!-- 如果需要导航按钮 -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>

                <!-- 如果需要滚动条 -->
                <!-- <div class="swiper-scrollbar"></div> -->
            </div>
        </div>
    </div>
    <div class="box-item">
        <div class="title">div8：下拉释放刷新，上滑反弹加载</div>
        <div class="content" id="div8">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="refresh">释放刷新</div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件001</div>
                    </div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件002</div>
                    </div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件003</div>
                    </div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件004</div>
                    </div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件005</div>
                    </div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件006</div>
                    </div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件007</div>
                    </div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件008</div>
                    </div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件009</div>
                    </div>
                    <div class="swiper-slide">
                        <div class="text">姑苏区发生了一条违停案件010</div>
                    </div>
                    <div class="loadmore">加载更多</div>
                </div>
                <!-- 如果需要分页器 -->
                <div class="swiper-pagination"></div>

                <!-- 如果需要导航按钮 -->
                <!-- <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div> -->

                <!-- 如果需要滚动条 -->
                <!-- <div class="swiper-scrollbar"></div> -->
            </div>
        </div>
    </div>
</div>
</body>
<script src="../plugins/jquery/jquery.min.js"></script>
<script src="../plugins/swiper/swiper.js"></script>
<script>
    var mySwiper_1 = new Swiper('#div1 .swiper-container', {
        initialSlide: 0, //设定初始化时slide的索引
        direction: 'horizontal', //Slides的滑动方向，可设置水平(horizontal)或垂直(vertical)。
        speed: 1000, //切换速度，即slider自动滑动开始到结束的时间（单位ms），也是触摸滑动时释放至贴合的时间。
        grabCursor: true, //设置为true时，鼠标覆盖Swiper时指针会变成手掌形状，拖动时指针会变成抓手形状。
        loop: true, // 循环模式选项
        effect: 'slide', //slide的切换效果，'slide'（普通切换、默认）,"fade"（淡入）"cube"（方块）"coverflow"（3d流）"flip"（3d翻转）。
        // spaceBetween: 10, //slide之间的距离（单位px）
        autoplay: {
            delay: 1000,
            disableOnInteraction: false, //用户操作之后是否禁止滚动
        }, //自动滚动

        // 如果需要分页器
        pagination: {
            el: '.swiper-pagination',
            dynamicBullets: true, //是否开启动态指示点
            clickable: true, //是否可点击
        },
        // 如果需要前进后退按钮
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        }
        //  如果需要滚动条
        // scrollbar: {
        //     el: '.swiper-scrollbar',
        // },
    })
    var mySwiper_2 = new Swiper('#div2 .swiper-container', {
        initialSlide: 0, //设定初始化时slide的索引
        direction: 'vertical', //Slides的滑动方向，可设置水平(horizontal)或垂直(vertical)。
        loop: true, // 循环模式选项
        notNextTick: true,
        speed: 1000, //滚动速度
        setWrapperSize: true, //开启这个设定会在Wrapper上添加等于slides相加的宽或高
        freeMode: true, //true则是自由模式，不会自动贴合滑动位置
        autoplay: {
            delay: 0
        }, //自动滚动
        observer: true, //修改swiper自己或子元素时，自动初始化swiper
        observeParents: true, //修改swiper的父元素时，自动初始化swiper
        // spaceBetween: 10, //slide之间的距离（单位px）
        slidesPerView: 5, //slide可见数量

        // 如果需要分页器
        // pagination: {
        //     el: '.swiper-pagination',
        // },
        // 如果需要前进后退按钮
        // navigation: {
        //     nextEl: '.swiper-button-next',
        //     prevEl: '.swiper-button-prev',
        // },
        // // 如果需要滚动条
        // scrollbar: {
        //     el: '.swiper-scrollbar',
        // },
    })
    var mySwiper_3 = new Swiper('#div3 .swiper-container', {
        initialSlide: 0, //设定初始化时slide的索引
        direction: 'horizontal', //Slides的滑动方向，可设置水平(horizontal)或垂直(vertical)。
        speed: 1000, //切换速度，即slider自动滑动开始到结束的时间（单位ms），也是触摸滑动时释放至贴合的时间。
        grabCursor: true, //设置为true时，鼠标覆盖Swiper时指针会变成手掌形状，拖动时指针会变成抓手形状。
        loop: false, // 循环模式选项
        autoplay: {
            delay: 1000,
            disableOnInteraction: false, //用户操作之后是否禁止滚动
        }, //自动滚动
        // // 如果需要分页器
        pagination: {
            el: '.swiper-pagination',
        },
        // 如果需要前进后退按钮
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        // // 如果需要滚动条
        // scrollbar: {
        //     el: '.swiper-scrollbar',
        // },
    })
    var mySwiper_4 = new Swiper('#div4 .swiper-container', {
        initialSlide: 0, //设定初始化时slide的索引
        direction: 'horizontal', //Slides的滑动方向，可设置水平(horizontal)或垂直(vertical)。
        speed: 1000, //切换速度，即slider自动滑动开始到结束的时间（单位ms），也是触摸滑动时释放至贴合的时间。
        grabCursor: true, //设置为true时，鼠标覆盖Swiper时指针会变成手掌形状，拖动时指针会变成抓手形状。
        loop: false, // 循环模式选项
        autoplay: {
            delay: 1000,
            disableOnInteraction: false, //用户操作之后是否禁止滚动
        }, //自动滚动

        // // 如果需要分页器
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
            renderBullet: function (index, className) {
                return '<span class="' + className + '">' + (index + 1) + '</span>';
            },
        },
        // 如果需要前进后退按钮
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        // // 如果需要滚动条
        // scrollbar: {
        //     el: '.swiper-scrollbar',
        // },
    })
    var mySwiper_5 = new Swiper('#div5 .swiper-container', {
        initialSlide: 0, //设定初始化时slide的索引
        direction: 'horizontal', //Slides的滑动方向，可设置水平(horizontal)或垂直(vertical)。
        speed: 1000, //切换速度，即slider自动滑动开始到结束的时间（单位ms），也是触摸滑动时释放至贴合的时间。
        grabCursor: true, //设置为true时，鼠标覆盖Swiper时指针会变成手掌形状，拖动时指针会变成抓手形状。
        loop: true, // 循环模式选项
        autoplay: {
            delay: 1000,
            disableOnInteraction: false, //用户操作之后是否禁止滚动
        }, //自动滚动

        // // 如果需要分页器
        pagination: {
            el: '.swiper-pagination',
        },
        // 如果需要前进后退按钮
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        // // 如果需要滚动条
        // scrollbar: {
        //     el: '.swiper-scrollbar',
        // },
        on: {
            init: function (swiper) {
                slide = this.slides.eq(0);
                slide.addClass('ani-slide');
            },
            transitionStart: function () {
                for (i = 0; i < this.slides.length; i++) {
                    slide = this.slides.eq(i);
                    slide.removeClass('ani-slide');
                }
            },
            transitionEnd: function () {
                slide = this.slides.eq(this.activeIndex);
                slide.addClass('ani-slide');

            },
        }
    })
    var mySwiper_6 = new Swiper('#div6 .swiper-container', {
        initialSlide: 0, //设定初始化时slide的索引
        direction: 'horizontal', //Slides的滑动方向，可设置水平(horizontal)或垂直(vertical)。
        speed: 1000, //切换速度，即slider自动滑动开始到结束的时间（单位ms），也是触摸滑动时释放至贴合的时间。
        grabCursor: true, //设置为true时，鼠标覆盖Swiper时指针会变成手掌形状，拖动时指针会变成抓手形状。
        loop: false, // 循环模式选项
        slidesPerView: 3, //设置slider容器能够同时显示的slides数量
        slidesPerColumn: 2, //设置多行布局里面每列的slide数量。
        spaceBetween: 30, //在slide之间设置距离
        autoplay: {
            delay: 1000,
            disableOnInteraction: false, //用户操作之后是否禁止滚动
        }, //自动滚动
        // // 如果需要分页器
        pagination: {
            el: '.swiper-pagination',
            clickable: true, //是否可点击
        },
        // 如果需要前进后退按钮
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        // // 如果需要滚动条
        // scrollbar: {
        //     el: '.swiper-scrollbar',
        // },

    })
    var mySwiper_7 = new Swiper('#div7 .swiper-container', {
        initialSlide: 0, //设定初始化时slide的索引
        direction: 'horizontal', //Slides的滑动方向，可设置水平(horizontal)或垂直(vertical)。
        speed: 1000, //切换速度，即slider自动滑动开始到结束的时间（单位ms），也是触摸滑动时释放至贴合的时间。
        grabCursor: true, //设置为true时，鼠标覆盖Swiper时指针会变成手掌形状，拖动时指针会变成抓手形状。
        loop: false, // 循环模式选项
        autoplay: {
            delay: 1000,
            disableOnInteraction: false, //用户操作之后是否禁止滚动
        }, //自动滚动
        // // 如果需要分页器
        pagination: {
            el: '.swiper-pagination-1',
            clickable: true, //是否可点击
        },
        // 如果需要前进后退按钮
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        // // 如果需要滚动条
        // scrollbar: {
        //     el: '.swiper-scrollbar',
        // },

    })
    var mySwiper_7_2 = new Swiper('#div7 .swiper-container-2', {
        direction: 'vertical', //Slides的滑动方向，可设置水平(horizontal)或垂直(vertical)。
        spaceBetween: 20,
        loop: true, // 循环模式选项
        autoplay: {
            delay: 500,
            disableOnInteraction: false, //用户操作之后是否禁止滚动
        }, //自动滚动
        // 如果需要分页器
        pagination: {
            el: '.swiper-pagination-2',
            clickable: true, //是否可点击
        },
    })
    var refreshEnd = false;
    var times = 0;
    var mySwiper_8 = new Swiper('#div8 .swiper-container', {
        speed: 300,
        slidesPerView: 'auto',
        freeMode: true,
        direction: 'vertical',
        setWrapperSize: true,
        slidesPerView: 5, //slide可见数量
        scrollbar: {
            el: '.swiper-scrollbar',
        },
        on: {
            //下拉释放刷新
            touchEnd: function () {
                swiper = this
                refreshText = swiper.$el.find('.refresh')
                if (this.translate > 100) {
                    swiper.setTransition(this.params.speed);
                    swiper.setTranslate(100);
                    swiper.touchEventsData.isTouched = false; //跳过touchEnd事件后面的跳转(4.0.5)
                    refreshText.html('刷新中')

                    swiper.allowTouchMove = false;
                    setTimeout(function () { //模仿AJAX
                        swiper.removeAllSlides();
                        for (i = 0; i < 20; i++) {
                            swiper.appendSlide(
                                '<div class="swiper-slide"> <div class="text">姑苏区发生了一条违停案件' + (
                                i + 1) +
                                '</div></div>');
                            refreshText.html('刷新完成');
                            refreshEnd = true;
                            swiper.allowTouchMove = true;
                        }
                    }, 1000)

                }

            },
            touchStart: function () {
                if (refreshEnd == true) {
                    this.$el.find('.refresh').html('释放刷新');
                    refreshEnd = false;
                }
            },

            //加载更多
            momentumBounce: function () { //非正式反弹回调函数，上拉释放加载更多可参考上例
                swiper = this
                //slidesheight=0;
                //for(h=0;h<swiper.slides.length;h++){
                //	slidesheight+=swiper.slides[h].offsetHeight;
                //}
                //endTranslate=this.height-slidesheight-20
                //if(this.translate < endTranslate){}
                if (swiper.translate < -100) {

                    swiper.allowTouchMove = false; //禁止触摸
                    swiper.params.virtualTranslate = true; //定住不给回弹
                    setTimeout(function () { //模仿AJAX
                        for (m = 0; m < 20; m++) {
                            swiper.appendSlide(
                                '<div class="swiper-slide"><div class="text">moreSlide' + (
                                times * 20 +
                                m + 1) + '</div></div>');
                        }
                        swiper.params.virtualTranslate = false;
                        swiper.allowTouchMove = true;
                        times++
                    }, 1000)

                }
            },
        }
    })

    //判断slide的数量,开启滚动

    // function isOpen() {
    //     var num = $("#div2 ").length;
    //     console.log("数量：" + num);
    //     if (num > 5) {
    //         swiperStart();
    //     } else {
    //         swiperStop();
    //     }
    // }
    // //开始轮播
    // function swiperStart() {
    //     mySwiper_2.autoplay.start()
    // }
    // //停止轮播
    // function swiperStop() {
    //     mySwiper_2.autoplay.stop()
    // }
</script>

</html>
